{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Stink\\\\Documents\\\\GitHub\\\\OneMoreSale\\\\frontend\\\\src\\\\account\\\\Account.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Container } from \"@material-ui/core\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Divider from '@material-ui/core/Divider';\nimport { Link } from \"react-router-dom\";\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Grid from '@material-ui/core/Grid';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { useQuery } from 'react-query';\nimport defaultQueryFn from '../util/defaultQueryFn';\nimport { useMutation } from 'react-query';\nimport { accountUpdatePassword } from '../util/apis';\nimport { accountUpdateAddress } from '../util/apis';\nimport { accountItemDelete } from '../util/apis';\nimport { useQueryCache } from 'react-query';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  list: {\n    width: \"100%\",\n    backgroundColor: theme.palette.background.default\n  },\n  paper: {\n    padding: theme.spacing(2),\n    color: theme.palette.text.secondary,\n    marginBottom: theme.spacing(2)\n  },\n  paper1: {\n    margin: theme.spacing(2)\n  },\n  avatar: {\n    marginTop: theme.spacing(3),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  title: {\n    margin: theme.spacing(4, 0, 2)\n  },\n  select: {\n    margin: theme.spacing(16)\n  }\n})); //---------------------------------------------------\n// function generate(element) {\n//     return [0, 1].map(\n//         (value) =>\n//       React.cloneElement(element, {\n//         key: value,\n//       }),\n//     );\n//   }\n//---------------------------------------------------\n\nexport default function Account() {\n  _s();\n\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [open1, setOpen1] = React.useState(false);\n  const {\n    isLoading,\n    isError,\n    data\n  } = useQuery(['UserAllInfo', 'userinfo/getUserInfo/'], defaultQueryFn);\n  const [mutate] = useMutation(accountUpdatePassword);\n  const [mutate1] = useMutation(accountUpdateAddress);\n  const [mutate2] = useMutation(accountItemDelete);\n  const [username, setUsername] = React.useState();\n  const [password, setPassword] = React.useState();\n  const [address, setAddress] = React.useState();\n  const [phone, setPhone] = React.useState();\n\n  const handleUsernameChange = event => {\n    setUsername(event.target.value);\n  };\n\n  const handlePasswordChange = event => {\n    setPassword(event.target.value);\n  };\n\n  const handleAddressChange = event => {\n    setAddress(event.target.value);\n  };\n\n  const handlePhoneChange = event => {\n    setPhone(event.target.value);\n  }; // Get QueryCache from the context\n\n\n  const queryCache = useQueryCache();\n\n  const handleSave = async () => {\n    try {\n      const UserInfoData = await mutate({\n        username,\n        password\n      });\n      console.log(UserInfoData);\n      queryCache.invalidateQueries(['UserAllInfo', 'userinfo/getUserInfo/']);\n    } catch (e) {\n      console.log(e);\n    }\n\n    setOpen(false);\n  };\n\n  const handleSave1 = async () => {\n    try {\n      const UserAddressData = await mutate1({\n        address,\n        phone\n      });\n      console.log(UserAddressData);\n      queryCache.invalidateQueries(['UserAllInfo', 'userinfo/getUserInfo/']);\n    } catch (e) {\n      console.log(e);\n    }\n\n    setOpen1(false);\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n    setOpen1(false);\n  };\n\n  const handleClickOpen1 = () => {\n    setOpen(false);\n    setOpen1(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleClose1 = () => {\n    setOpen1(false);\n  }; //-----------------------------------------------------\n\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Error!!!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 16\n    }, this);\n  } //handle corner case of address\n\n\n  let fullAddress = data.address;\n\n  if (data.zipCode) {\n    fullAddress += ', ' + data.zipCode;\n  }\n\n  localStorage.setItem('nickname', data.userName);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/roomlist\",\n      children: \"Chat Message\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"space-between\",\n      alignItems: \"baseline\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Back to Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      variant: \"fullWidth\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.avatar,\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        src: data.userImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        children: data.userName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        wrap: \"nowrap\",\n        alignItems: \"flex-start\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"Login and Security\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.paper,\n        variant: \"outlined\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          direction: \"row\",\n          justify: \"space-between\",\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: [\"Email: \", data.account.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: handleClickOpen,\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n            fullWidth: true,\n            open: open,\n            onClose: handleClose,\n            children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n              id: \"form-dialog-title\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                autoFocus: true,\n                margin: \"dense\",\n                label: \"UserName\",\n                type: \"text\",\n                fullWidth: true,\n                onChange: handleUsernameChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                autoFocus: true,\n                margin: \"dense\",\n                label: \"Password\",\n                type: \"text\",\n                fullWidth: true,\n                onChange: handlePasswordChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleClose,\n                color: \"primary\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleSave,\n                color: \"primary\",\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          align: \"left\",\n          children: /*#__PURE__*/_jsxDEV(FormLabel, {\n            children: [\"UserName: \", data.userName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          align: \"left\",\n          children: /*#__PURE__*/_jsxDEV(FormLabel, {\n            children: [\"Password: \", data.account.password]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        wrap: \"nowrap\",\n        alignItems: \"flex-start\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.paper,\n        variant: \"outlined\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          direction: \"row\",\n          justify: \"space-between\",\n          children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n            children: [\"Phone: \", data.phone, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: handleClickOpen1,\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n            fullWidth: \"true\",\n            open: open1,\n            onClose: handleClose1,\n            children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n              id: \"form-dialog-title\",\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                autoFocus: true,\n                margin: \"dense\",\n                label: \"Phone\",\n                type: \"number\",\n                fullWidth: true,\n                onChange: handlePhoneChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                autoFocus: true,\n                margin: \"dense\",\n                label: \"Address\",\n                type: \"text\",\n                fullWidth: true,\n                onChange: handleAddressChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleClose1,\n                color: \"primary\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleSave1,\n                color: \"primary\",\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          align: \"left\",\n          children: /*#__PURE__*/_jsxDEV(FormLabel, {\n            children: [\"Address: \", fullAddress, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        wrap: \"nowrap\",\n        alignItems: \"flex-start\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"My Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.paper,\n        variant: \"outlined\",\n        children: /*#__PURE__*/_jsxDEV(List, {\n          className: classes.list,\n          children: data.postList.map(singleItem => /*#__PURE__*/_jsxDEV(ListItem, {\n            children: [/*#__PURE__*/_jsxDEV(Paper, {\n              className: classes.paper1,\n              elevation: 0,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"grey_item.png\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/item/${singleItem.postId}`,\n              children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: singleItem.postTitle,\n                secondary: singleItem.postCondition\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: singleItem.postPrice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: singleItem.postId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              className: classes.select,\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 0,\n                children: \"Sold\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 1,\n                children: \"Unsell\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                edge: \"end\",\n                \"aria-label\": \"delete\",\n                onClick: async () => {\n                  try {\n                    const postItem = await mutate2(singleItem.postId);\n                    queryCache.invalidateQueries(['UserAllInfo', 'userinfo/getUserInfo/']);\n                  } catch (e) {\n                    console.log(e);\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Account, \"HeFxt/UL09RQ19yEP/C58d28ZWc=\", false, function () {\n  return [useStyles, useQuery, useMutation, useMutation, useMutation, useQueryCache];\n});\n\n_c = Account;\n\nvar _c;\n\n$RefreshReg$(_c, \"Account\");","map":{"version":3,"sources":["C:/Users/Stink/Documents/GitHub/OneMoreSale/frontend/src/account/Account.js"],"names":["React","Container","makeStyles","Divider","Link","Paper","Typography","FormLabel","Button","List","ListItem","ListItemSecondaryAction","ListItemText","Avatar","IconButton","Grid","DeleteIcon","Select","MenuItem","TextField","Dialog","DialogActions","DialogContent","DialogTitle","useQuery","defaultQueryFn","useMutation","accountUpdatePassword","accountUpdateAddress","accountItemDelete","useQueryCache","useStyles","theme","root","flexGrow","list","width","backgroundColor","palette","background","default","paper","padding","spacing","color","text","secondary","marginBottom","paper1","margin","avatar","marginTop","display","flexDirection","alignItems","title","select","Account","classes","open","setOpen","useState","open1","setOpen1","isLoading","isError","data","mutate","mutate1","mutate2","username","setUsername","password","setPassword","address","setAddress","phone","setPhone","handleUsernameChange","event","target","value","handlePasswordChange","handleAddressChange","handlePhoneChange","queryCache","handleSave","UserInfoData","console","log","invalidateQueries","e","handleSave1","UserAddressData","handleClickOpen","handleClickOpen1","handleClose","handleClose1","fullAddress","zipCode","localStorage","setItem","userName","userImage","account","email","postList","map","singleItem","postId","postTitle","postCondition","postPrice","postItem"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport { Link } from \"react-router-dom\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { useQuery } from 'react-query';\r\nimport defaultQueryFn from '../util/defaultQueryFn';\r\nimport { useMutation } from 'react-query';\r\nimport { accountUpdatePassword } from '../util/apis';\r\nimport { accountUpdateAddress } from '../util/apis';\r\nimport { accountItemDelete } from '../util/apis';\r\nimport { useQueryCache } from 'react-query';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    list: {\r\n        width: \"100%\",\r\n        backgroundColor: theme.palette.background.default,\r\n    },\r\n\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        color: theme.palette.text.secondary,\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n    paper1: {\r\n        margin: theme.spacing(2),\r\n    },\r\n    avatar:{\r\n         marginTop: theme.spacing(3),\r\n         display: 'flex',\r\n         flexDirection: 'column',\r\n         alignItems: 'center',\r\n    },\r\n    title: {\r\n        margin: theme.spacing(4, 0, 2),\r\n      },\r\n    select: {\r\n        margin: theme.spacing(16),\r\n    },\r\n}));\r\n\r\n//---------------------------------------------------\r\n// function generate(element) {\r\n//     return [0, 1].map(\r\n//         (value) =>\r\n//       React.cloneElement(element, {\r\n//         key: value,\r\n//       }),\r\n//     );\r\n//   }\r\n\r\n//---------------------------------------------------\r\nexport default function Account() {\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n    const [open1, setOpen1] = React.useState(false);\r\n\r\n    const { isLoading, isError, data } = useQuery(['UserAllInfo', 'userinfo/getUserInfo/'], defaultQueryFn);\r\n\r\n    const [ mutate ] = useMutation(accountUpdatePassword); \r\n    const [ mutate1 ] = useMutation(accountUpdateAddress);\r\n    const [ mutate2 ] = useMutation(accountItemDelete);\r\n\r\n    const [username, setUsername] = React.useState();\r\n    const [password, setPassword] = React.useState();\r\n    const [address, setAddress] = React.useState();\r\n    const [phone, setPhone] = React.useState();\r\n\r\n\r\n    const handleUsernameChange = (event) => {\r\n        setUsername(event.target.value);\r\n    };\r\n    const handlePasswordChange = (event) => {\r\n        setPassword(event.target.value);\r\n    };\r\n    const handleAddressChange = (event) => {\r\n        setAddress(event.target.value);\r\n    };\r\n    const handlePhoneChange = (event) => {\r\n        setPhone(event.target.value);\r\n    };\r\n\r\n    // Get QueryCache from the context\r\n    const queryCache = useQueryCache()\r\n\r\n    const handleSave = async () => {\r\n        try {\r\n        const UserInfoData = await mutate({ username, password })\r\n        console.log(UserInfoData)\r\n\r\n        queryCache.invalidateQueries(['UserAllInfo', 'userinfo/getUserInfo/'])\r\n        } catch(e) {\r\n        console.log(e)\r\n        }       \r\n        setOpen(false);\r\n    }\r\n\r\n    const handleSave1 = async () => {\r\n        try {\r\n        const UserAddressData = await mutate1({ address, phone })\r\n        console.log(UserAddressData)\r\n\r\n        queryCache.invalidateQueries(['UserAllInfo', 'userinfo/getUserInfo/'])\r\n        } catch(e) {\r\n        console.log(e)\r\n        }\r\n        setOpen1(false);\r\n    }\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n        setOpen1(false);\r\n    };\r\n\r\n    const handleClickOpen1 = () => {\r\n        setOpen(false);\r\n        setOpen1(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleClose1 = () => {\r\n        setOpen1(false);\r\n    };\r\n    \r\n\r\n    //-----------------------------------------------------\r\n    if (isLoading) {\r\n        return <span>Loading...</span>\r\n    }\r\n\r\n    if (isError) {\r\n        return <span>Error!!!</span>\r\n    }\r\n\r\n    //handle corner case of address\r\n    let fullAddress = data.address;\r\n    if (data.zipCode) {\r\n        fullAddress += ', ' + data.zipCode;\r\n    }\r\n\r\n    localStorage.setItem('nickname', data.userName);\r\n    return (\r\n    <Container maxWidth=\"lg\">\r\n        <Link to=\"/roomlist\">Chat Message</Link>\r\n\r\n    {/* <div>test: {data.postList[0].postPrice}</div> */}\r\n    {/*      \r\n        { data.postList.map((ItemTest) => (\r\n                <div>heh{ItemTest.postPrice}</div>\r\n            ))\r\n        } */}\r\n            \r\n\r\n        <Grid container direction=\"row\" justify=\"space-between\" alignItems=\"baseline\">\r\n            <Link to=\"/\">Back to Home</Link>\r\n        </Grid>\r\n        <Divider variant=\"fullWidth\"/>\r\n\r\n        <div className={classes.avatar}>\r\n             <Avatar src={data.userImage} />\r\n             {/* <Avatar src={data.userImage} />      */}\r\n             <Typography variant=\"subtitle1\">{data.userName}</Typography>\r\n        </div>\r\n\r\n        <div className={classes.root}>\r\n            <Grid container wrap=\"nowrap\" alignItems=\"flex-start\">\r\n                <Typography variant=\"h6\">Login and Security</Typography>\r\n            </Grid>\r\n            <Paper className={classes.paper} variant=\"outlined\">\r\n                <Grid container direction=\"row\" justify=\"space-between\">\r\n                    <Typography>Email: {data.account.email}</Typography>\r\n                    <Button variant=\"contained\" onClick={handleClickOpen}>Edit</Button>\r\n                    <Dialog fullWidth ={true} open={open} onClose={handleClose}>\r\n                        <DialogTitle id=\"form-dialog-title\">Login</DialogTitle>\r\n                            <DialogContent>\r\n                                <TextField\r\n                                    autoFocus\r\n                                    margin=\"dense\"\r\n                                    label=\"UserName\"\r\n                                    type=\"text\"\r\n                                    fullWidth\r\n                                    onChange={handleUsernameChange}/>\r\n                            </DialogContent>\r\n                            <DialogContent>\r\n                                <TextField\r\n                                    autoFocus\r\n                                    margin=\"dense\"\r\n                                    label=\"Password\"\r\n                                    type=\"text\"\r\n                                    fullWidth\r\n                                    onChange={handlePasswordChange}/>\r\n                            </DialogContent>\r\n                        <DialogActions>\r\n                            <Button onClick={handleClose} color=\"primary\">Cancel</Button>\r\n                            <Button onClick={handleSave} color=\"primary\">Save</Button>\r\n                        </DialogActions>\r\n                    </Dialog>\r\n                </Grid>\r\n                <div align=\"left\">\r\n                    <FormLabel>UserName: {data.userName}</FormLabel>\r\n                </div>\r\n                <br></br>\r\n                <div align=\"left\">\r\n                    <FormLabel>Password: {data.account.password}</FormLabel>\r\n                </div>  \r\n            </Paper>\r\n        </div>\r\n\r\n        <div className={classes.root}>\r\n            <Grid container wrap=\"nowrap\" alignItems=\"flex-start\">\r\n                <Typography variant=\"h6\">Address</Typography>\r\n            </Grid>\r\n            <Paper className={classes.paper} variant=\"outlined\">\r\n                <Grid container direction=\"row\" justify=\"space-between\">\r\n                    <FormLabel>Phone: {data.phone} </FormLabel>\r\n                    <Button variant=\"contained\" onClick={handleClickOpen1}>Edit</Button> \r\n                    <Dialog fullWidth='true' open={open1} onClose={handleClose1}>\r\n                        <DialogTitle id=\"form-dialog-title\">Address</DialogTitle>\r\n                            <DialogContent>\r\n                                <TextField\r\n                                    autoFocus\r\n                                    margin=\"dense\"\r\n                                    label=\"Phone\"\r\n                                    type=\"number\"\r\n                                    fullWidth\r\n                                    onChange={handlePhoneChange}/>\r\n                            </DialogContent>\r\n                            <DialogContent>\r\n                                <TextField\r\n                                    autoFocus\r\n                                    margin=\"dense\"\r\n                                    label=\"Address\"\r\n                                    type=\"text\"\r\n                                    fullWidth\r\n                                    onChange={handleAddressChange}/>\r\n                            </DialogContent>\r\n                        <DialogActions>\r\n                            <Button onClick={handleClose1} color=\"primary\">Cancel</Button>\r\n                            <Button onClick={handleSave1} color=\"primary\">Save</Button>\r\n                        </DialogActions>\r\n                    </Dialog>      \r\n                </Grid> \r\n                <div align=\"left\">\r\n                    <FormLabel>Address: {fullAddress} </FormLabel>   \r\n                </div> \r\n            </Paper>\r\n        </div>\r\n\r\n        <div className={classes.root}>\r\n            <Grid container wrap=\"nowrap\" alignItems=\"flex-start\">\r\n                <Typography variant=\"h6\">My Items</Typography>\r\n            </Grid> \r\n\r\n            \r\n            <Paper className={classes.paper} variant=\"outlined\">\r\n        \r\n                <List className={classes.list}>{\r\n                    data.postList.map((singleItem)=>(\r\n                    <ListItem>\r\n                        <Paper className={classes.paper1} elevation={0}>\r\n                            <img src=\"grey_item.png\" />\r\n                        </Paper>\r\n                    \r\n                        <Link to={`/item/${singleItem.postId}`}>\r\n                            <ListItemText primary= {singleItem.postTitle} secondary= {singleItem.postCondition} />\r\n                        </Link>\r\n                        <ListItemText primary= {singleItem.postPrice} />\r\n                        <ListItemText primary= {singleItem.postId} />\r\n                        \r\n                        <Select className={classes.select}>\r\n                            <MenuItem value={0}>Sold</MenuItem>\r\n                            <MenuItem value={1}>Unsell</MenuItem>\r\n                        </Select>\r\n                        \r\n                        <ListItemSecondaryAction>\r\n                            <IconButton edge=\"end\" aria-label=\"delete\"\r\n                            onClick={ async ()=>{\r\n                                try {\r\n                                    const postItem = await mutate2(singleItem.postId)\r\n                            \r\n                                    queryCache.invalidateQueries(['UserAllInfo', 'userinfo/getUserInfo/'])\r\n                                    } catch(e) {\r\n                                    console.log(e)\r\n                                    } \r\n                            }}>\r\n                            <DeleteIcon />\r\n                            </IconButton>\r\n                        </ListItemSecondaryAction>\r\n                    </ListItem>))}          \r\n                </List>\r\n            </Paper>\r\n        </div>\r\n    </Container>\r\n);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}